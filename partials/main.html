<div style="width: 100%; border-bottom: solid 1px #fcb216;">
    <div ng-click="unlog()">Unlog</div>
    <div style="display: inline-block; width: 100%">
        <h3 class="bordered" style="text-align: center;cursor: pointer;" ng-click="leaderBoard=!leaderBoard">LeaderBoard</h3>
        <div style="max-height: 580px;width: 100%;overflow: auto;">
            <table ng-show="leaderBoard" style="width:100%; text-align: center; border-collapse: collapse">
                <th style="width:1%"></th><th style="width:25%">Pseudo</th><th style="width:25%">Win</th><th style="width:25%">Lose</th><th>W/L</th>
                <tr ng-repeat="us in users | orderBy:['win/lose','-win','-lose'] | limitTo:5" ng-class="{'imp': user._id == us._id}"  ng-switch="us.lose">
                    <td>{{$index+1}}</td>
                    <td>{{us.pseudo}}</td>
                    <td>{{us.win}}</td>
                    <td>{{us.lose}}</td>
                    <td>
                        <span ng-switch-when="0">{{us.win}}</span>
                        <span ng-switch-default>{{us.win/us.lose | number:2}}</span>
                    </td>
                </tr>
            </table>

        </div>
    </div>
    <div style="display: inline-block; width: 60%">
        <h3 style="text-align: center">Chat</h3>
        <div scroll-glue style="height: 580px;width: 100%;overflow: auto;">
            <div ng-repeat="msg in messages">
                {{msg.sender}} : {{msg.body}}
            </div>
        </div>
        <div style="width: 100%"><br/></div>
        <div style="width: 100%">
            <form role="form" ng-submit="sendMsg()">
                <input ng-model="newMsg.body" type="text" required/>
                <div style="width: 100%"><br/></div>
                <input type="submit" value="Send"/>
            </form>
        </div>
    </div>

    <div style="display: inline-block; width: 30%; float: right">
        <h3 style="text-align: center">Online players</h3>
        <div scroll-glue style="height: 600px; width:100%; overflow: auto;" >
            <div ng-repeat="user in usersOnline">
                <div style="width: 100%; padding-top: 5px">
                    <span style="">{{user.pseudo}}</span>
                    <button style="float: right; width: auto !important; " ng-show="!askingForFight" ng-click="askforFight(user)">Ask for fight</button>
                </div>
                <div style="width: 100%;"><br></div>
            </div>
        </div>
    </div>
    <hr>
</div>

<div>
    <h3 style="text-align: center">Arena</h3>
    <div ng-if="getAskingForFight">
        <hr>
        <div style="width: 100%; text-align: center">
            {{opponent.pseudo}} want fight against you !
        </div>
        <hr>
        <div style="width: 49%; display: inline-block"><button style="width: 100%" ng-click="acceptFight()">Accept</button></div>
        <div style="width: 49%; display: inline-block"><button style="width: 100%" ng-click="declineFight()">Decline</button></div>
        <hr>
    </div>
    <span ng-bind="XY"></span>
        <button ng-if="searching!=null" ng-click="stopSearch()">Stop Search</button>
        <button ng-if="searching==null" ng-click="quickFight()">Quick Fight</button>
        <hr>
        <span ng-bind="searching"></span>
        <span ng-show="fighting"><button ng-click="quitFight()">Quit fight</button></span>
        <span ng-show="stopFight">Your opponent has quit the fight <button ng-click="stopFight=null">OK</button></span>
    <hr>
    <div ng-if="fighting" style="height: 600px;width: 600px;">
        <span ng-show="opponent">
            Your opponent : {{opponent.pseudo}} - {{opponent.win}} Win - {{opponent.lose}} Lose
        </span>
        <hr>
        <span ng-show="opponent">
            Me : {{myFighter.life}} - {{opponent.pseudo}} : {{opponentFighter.life}}
        </span>
        <canvas id="backCanvas" width="1200px" height="590px">
        </canvas>
            <canvas id="canvasOpponent" drawing-canvas-opponent width="1200px" height="590px">

            </canvas>
            <canvas id="canvasUser" drawing-canvas-user width="1200px" height="590px">

            </canvas>



    </div>
</div>
<hr>
